// speech-recognition.js

var recognizing = false;
var recognition = new webkitSpeechRecognition();

recognition.onstart = function() {
    recognizing = true;
    $('#speechButton img').addClass('active');
};

recognition.onend = function() {
    recognizing = false;
    $('#speechButton img').removeClass('active');
};

recognition.onresult = function(event) {
    var transcript = event.results[0][0].transcript;
    $('#textInput').val(transcript);
    // call function to convert text generated by ai to speech
    getUserInput();
};

function toggleSpeechRecognition() {
    if (recognizing) {
        recognition.stop();
    } else {
        recognition.start();
    }
}